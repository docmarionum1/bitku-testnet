(this.webpackJsonpbitku=this.webpackJsonpbitku||[]).push([[0],{210:function(e,t){},212:function(e,t){},232:function(e,t,n){},234:function(e,t,n){},314:function(e,t,n){"use strict";n.r(t);var a=n(6);Object(a.e)().put("accessNode.api","https://access-testnet.onflow.org").put("challenge.handshake","https://fcl-discovery.onflow.org/testnet/authn");var r="",c="",i="",o="0x824f612f78d34250";Object(a.e)().put("0xFUNGIBLETOKENADDRESS","0x9a0766d93b6608b7").put("0xTOKENADDRESS","0x7e60df042a9c0868").put("0xNONFUNGIBLETOKENADDRESS","0x631e88ae7f1d7c20").put("0xHAIKUNFTADDRESS",o).put("0xFUSDADDRESS","0xe223d8a629e49c68"),r=o,c="https://testnet.bitku.art/logo512.png",i="https://testnet.flowscan.org/transaction/";var u,s,l=n(0),d=n.n(l),p=n(19),b=n.n(p),h=(n(232),n(10)),f=n.n(h),j=n(91),k=n(22),x=n(23),g=(n(234),n(368)),O=n(193),v=n(355),m=n(369),F=n(374),y=n(372),w=n(315),S=n(370),N=n(92),D=n.n(N),T=n(129),C=n(37),E="\nimport HaikuNFT from 0xHAIKUNFTADDRESS\n\npub fun main(): {UInt64: UFix64} {\n\n    return {HaikuNFT.totalSupply: HaikuNFT.currentPrice()}\n}\n";function H(){return A.apply(this,arguments)}function A(){return(A=Object(k.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.m([a.l(E)]).then(a.g);case 2:return t=e.sent,n=Object.keys(t)[0],e.abrupt("return",{id:parseInt(n),price:parseFloat(t[n])});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U="\nimport HaikuNFT from 0xHAIKUNFTADDRESS\nimport NonFungibleToken from 0xNONFUNGIBLETOKENADDRESS\n\npub fun main(haikus: { UInt64: Address }): { UInt64: String } {\n  let response: {UInt64: String} = {}\n  for id in haikus.keys {\n    let address = haikus[id]!\n    let account = getAccount(address)\n    let capability = account.getCapability(HaikuNFT.HaikuCollectionPublicPath)\n    let ref = capability.borrow<&{HaikuNFT.HaikuCollectionPublic, NonFungibleToken.CollectionPublic}>()\n    if ref == nil {\n      continue\n    }\n    let haiku = ref!.borrowHaiku(id: id)\n    if haiku == nil {\n      continue\n    }\n    response[id] = haiku!.text\n  }\n\n  return response\n}\n";function I(e){return B.apply(this,arguments)}function B(){return(B=Object(k.a)(f.a.mark((function e(t){var n,r,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.m([a.l(U),a.b([a.a(t,C.b({key:C.d,value:C.a}))])]).then(a.g);case 2:n=e.sent,r=Object(j.a)(t);try{for(r.s();!(c=r.n()).done;)(i=c.value).key in n&&(n[i.key]={text:n[i.key],address:i.value})}catch(o){r.e(o)}finally{r.f()}return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return P.apply(this,arguments)}function P(){return(P=Object(k.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.m([a.l(u||(u=Object(T.a)(['\n      import FungibleToken from 0xFUNGIBLETOKENADDRESS\n      import FUSD from 0xFUSDADDRESS\n      \n      pub fun main(account: Address): UFix64 {\n      \n          let vaultRef = getAccount(account)\n              .getCapability(/public/fusdBalance)\n              .borrow<&FUSD.Vault{FungibleToken.Balance}>()\n              ?? panic("Could not borrow Balance reference to the Vault")\n      \n          return vaultRef.balance\n      }\n    ']))),a.b([a.a(t.addr,C.a)])]).then(a.g);case 2:return n=e.sent,e.abrupt("return",parseFloat(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return L.apply(this,arguments)}function L(){return(L=Object(k.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.m([a.l(s||(s=Object(T.a)(['\n      import HaikuNFT from 0xHAIKUNFTADDRESS\n      import NonFungibleToken from 0xNONFUNGIBLETOKENADDRESS\n      \n      pub fun main(address: Address): {UInt64: String} {\n        let account = getAccount(address)\n        let capability = account.getCapability(HaikuNFT.HaikuCollectionPublicPath)\n        let ref = capability.borrow<&{HaikuNFT.HaikuCollectionPublic, NonFungibleToken.CollectionPublic}>() ?? panic("Could not borrow")\n      \n        let haikus: {UInt64: String} = {}\n      \n        for id in ref.getIDs() {\n          let nft = ref.borrowNFT(id: id)\n          haikus[id] = ref.borrowHaiku(id: id)!.text\n        }\n      \n        return haikus\n      }\n    ']))),a.b([a.a(t.addr,C.a)])]).then(a.g);case 2:for(r in n=e.sent)n[r]={text:n[r],address:t.addr};return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=n(4),G=d.a.createContext();function M(e){var t=e.children,n=Object(l.useState)(0),a=Object(x.a)(n,2),r=a[0],c=a[1],i=Object(l.useState)(null),o=Object(x.a)(i,2),u=o[0],s=o[1];return Object(K.jsx)(G.Provider,{value:{balance:r,setBalance:c,userHaikus:u,setUserHaikus:s},children:t})}function W(){var e=Object(l.useState)({loggedIn:null}),t=Object(x.a)(e,2),n=t[0],r=t[1],c=Object(l.useContext)(G),i=c.balance,o=c.setBalance,u=c.userHaikus,s=c.setUserHaikus;Object(l.useEffect)((function(){return a.f().subscribe(r)}),[]);var d=Object(l.useCallback)(Object(k.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(n);case 3:t=e.sent,o(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o(null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[n]);return Object(l.useEffect)((function(){n.loggedIn?d():o(0)}),[n]),Object(l.useEffect)((function(){function e(){return(e=Object(k.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(n);case 3:t=e.sent,s(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}n.loggedIn?function(){e.apply(this,arguments)}():s(null)}),[n]),{user:n,balance:i,updateBalance:d,userHaikus:u,setUserHaikus:s}}var _=W,z=function(){var e=d.a.useState(window.location.pathname),t=Object(x.a)(e,2),n=t[0],a=t[1],r=function(){var e=window.location.pathname;a(e)};return d.a.useEffect((function(){return window.addEventListener("popstate",r),window.addEventListener("pushstate",r),function(){window.removeEventListener("popstate",r),window.removeEventListener("pushstate",r)}}),[]),n},J=n(359),Y=n(194),Z=n(376);function $(e,t){var n=i+e;t({text:Object(K.jsxs)("span",{children:[" Transaction Submitted. View Status on\xa0",Object(K.jsx)("a",{href:n,target:"_blank",children:"Flowscan"}),"."]}),severity:"success"})}var q="\nimport FungibleToken from 0xFUNGIBLETOKENADDRESS\nimport FlowToken from 0xTOKENADDRESS\nimport FUSD from 0xFUSDADDRESS\nimport NonFungibleToken from 0xNONFUNGIBLETOKENADDRESS\n\nimport HaikuNFT from 0xHAIKUNFTADDRESS\n\ntransaction (haikuID: UInt64, price: UFix64) {\n    let collection: &NonFungibleToken.Collection\n    let sentVault: @FungibleToken.Vault\n    let receiverRef: &FlowToken.Vault{FungibleToken.Receiver}\n    \n    prepare(signer: AuthAccount) {\n        // if the account doesn't already have a collection\n        if signer.borrow<&HaikuNFT.Collection>(from: HaikuNFT.HaikuCollectionStoragePath) == nil {\n\n\n            // create a new empty collection\n            let collection <- HaikuNFT.createEmptyCollection()\n            \n            // save it to the account\n            signer.save(<-collection, to: HaikuNFT.HaikuCollectionStoragePath)\n\n            // create a public capability for the collection\n            signer.link<&{NonFungibleToken.CollectionPublic, HaikuNFT.HaikuCollectionPublic}>(HaikuNFT.HaikuCollectionPublicPath, target: HaikuNFT.HaikuCollectionStoragePath)\n        }\n\n        self.collection = signer.borrow<&NonFungibleToken.Collection>(from: HaikuNFT.HaikuCollectionStoragePath) \n             ?? panic(\"Could not borrow reference to NFT Collection!\")\n\n        // Get a reference to the signer's stored vault\n        let vaultRef = signer.borrow<&FUSD.Vault>(from: /storage/fusdVault)\n          ?? panic(\"Could not borrow reference to the owner's FUSD Vault!\")\n\n        // Get a reference to the signer's FLOW receiver to receive FLOW necessary to ensure they have\n        // enough storage\n        self.receiverRef =  signer\n          .getCapability(/public/flowTokenReceiver)\n          .borrow<&FlowToken.Vault{FungibleToken.Receiver}>()\n        ?? panic(\"Could not borrow receiver reference to the recipient's Vault\")\n\n        // Withdraw tokens from the signer's stored vault\n        self.sentVault <- vaultRef.withdraw(amount: price)\n    }\n\n    execute {\n        HaikuNFT.mintHaiku(recipient: self.collection, vault: <- self.sentVault, id: haikuID, flowReceiverRef: self.receiverRef)\n    }\n}\n";function Q(e,t){return X.apply(this,arguments)}function X(){return(X=Object(k.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.m([a.n(q),a.b([a.a(t.id,C.d),a.a(t.price.toFixed(8),C.c)]),a.j(a.d),a.k(a.d),a.c([a.d]),a.h(9999)]).then(a.g);case 2:return $(r=e.sent,n),e.abrupt("return",a.o(r).onceSealed());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee="\nimport FungibleToken from 0xFUNGIBLETOKENADDRESS\nimport FUSD from 0xFUSDADDRESS\n\ntransaction {\n\n  prepare(signer: AuthAccount) {\n\n    // It's OK if the account already has a Vault, but we don't want to replace it\n    if(signer.borrow<&FUSD.Vault>(from: /storage/fusdVault) != nil) {\n      return\n    }\n    \n    // Create a new FUSD Vault and put it in storage\n    signer.save(<-FUSD.createEmptyVault(), to: /storage/fusdVault)\n\n    // Create a public capability to the Vault that only exposes\n    // the deposit function through the Receiver interface\n    signer.link<&FUSD.Vault{FungibleToken.Receiver}>(\n      /public/fusdReceiver,\n      target: /storage/fusdVault\n    )\n\n    // Create a public capability to the Vault that only exposes\n    // the balance field through the Balance interface\n    signer.link<&FUSD.Vault{FungibleToken.Balance}>(\n      /public/fusdBalance,\n      target: /storage/fusdVault\n    )\n  }\n}\n";function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(k.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.m([a.n(ee),a.j(a.d),a.k(a.d),a.c([a.d]),a.h(99)]).then(a.g);case 2:return $(n=e.sent,t),e.abrupt("return",a.o(n).onceSealed());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae="\nimport NonFungibleToken from 0xNONFUNGIBLETOKENADDRESS\n\nimport HaikuNFT from 0xHAIKUNFTADDRESS\n\ntransaction () {\n    prepare(signer: AuthAccount) {\n        // if the account doesn't already have a collection\n        if signer.borrow<&HaikuNFT.Collection>(from: HaikuNFT.HaikuCollectionStoragePath) == nil {\n            // create a new empty collection\n            let collection <- HaikuNFT.createEmptyCollection()\n            \n            // save it to the account\n            signer.save(<-collection, to: HaikuNFT.HaikuCollectionStoragePath)\n\n            // create a public capability for the collection\n            signer.link<&{NonFungibleToken.CollectionPublic, HaikuNFT.HaikuCollectionPublic}>(HaikuNFT.HaikuCollectionPublicPath, target: HaikuNFT.HaikuCollectionStoragePath)\n        }\n    }\n}\n";function re(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(k.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.m([a.n(ae),a.j(a.d),a.k(a.d),a.c([a.d]),a.h(99)]).then(a.g);case 2:return $(n=e.sent,t),e.abrupt("return",a.o(n).onceSealed());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie="\nimport NonFungibleToken from 0xNONFUNGIBLETOKENADDRESS\n\nimport HaikuNFT from 0xHAIKUNFTADDRESS\n\ntransaction (haikuID: UInt64, targetAddress: Address) {\n  let targetCollection: &AnyResource{NonFungibleToken.CollectionPublic}\n  let haiku: @NonFungibleToken.NFT\n  \n  prepare(signer: AuthAccount) {\n    // Get the sender's collection\n    let collection = signer.borrow<&HaikuNFT.Collection>(from: HaikuNFT.HaikuCollectionStoragePath)\n      ?? panic(\"Could not borrow reference to source account's Bitku Collection!\")\n\n    // Withdraw the haiku\n    self.haiku <- collection.withdraw(withdrawID: haikuID)\n\n    // Get the receiver's collection\n    let targetAccount = getAccount(targetAddress)\n    self.targetCollection = targetAccount.getCapability(HaikuNFT.HaikuCollectionPublicPath).borrow<&{NonFungibleToken.CollectionPublic}>()\n      ?? panic(\"Could not borrow reference to target account's Bitku Receiver!\")\n  }\n\n  execute {\n    self.targetCollection.deposit(token: <- self.haiku)\n  }\n}\n";function oe(e,t,n){return ue.apply(this,arguments)}function ue(){return(ue=Object(k.a)(f.a.mark((function e(t,n,r){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.m([a.n(ie),a.b([a.a(parseInt(t),C.d),a.a(n,C.a)]),a.j(a.d),a.k(a.d),a.c([a.d]),a.h(99)]).then(a.g);case 2:return $(c=e.sent,r),e.abrupt("return",a.o(c).onceSealed());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=Object(v.a)((function(e){return{root:{display:"flex",justifyContent:"space-between",padding:e.spacing(1)},button:{},about:{color:"black"}}}));var le=function(e){var t=e.setError,n=se(),r=_(),c=r.user,i=r.balance,o=r.updateBalance,u=r.userHaikus,s=r.setUserHaikus,p=Object(l.useState)(null),b=Object(x.a)(p,2),h=b[0],j=b[1],g=function(){j(null)};return Object(K.jsxs)("div",{className:n.root,children:[Object(K.jsx)(w.a,{variant:"h5",children:Object(K.jsx)("a",{href:"https://github.com/docmarionum1/bitku#readme",target:"_blank",className:n.about,children:"About"})}),c.loggedIn?Object(K.jsxs)(d.a.Fragment,{children:[Object(K.jsx)("div",{children:Object(K.jsx)(J.a,{variant:"outlined",onClick:function(e){j(e.currentTarget)},children:c.addr})}),Object(K.jsxs)(Y.a,{anchorEl:h,keepMounted:!0,open:!!h,onClose:g,children:[null===i?Object(K.jsx)(Z.a,{onClick:Object(k.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(),e.next=3,te(t);case 3:o();case 4:case"end":return e.stop()}}),e)}))),children:"Enable FUSD on this wallet"}):Object(K.jsxs)(Z.a,{disabled:!0,children:[i," FUSD"]}),null==u&&Object(K.jsx)(Z.a,{onClick:Object(k.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(),e.next=3,re(t);case 3:s({});case 4:case"end":return e.stop()}}),e)}))),children:"Create empty Bitku collection"}),Object(K.jsx)(Z.a,{onClick:function(){g(),a.p()},children:"Log Out"})]})]}):Object(K.jsx)("div",{children:Object(K.jsx)(J.a,{variant:"outlined",onClick:a.i,children:"Connect Wallet"})})]})},de=n(100),pe=n(76),be=n(377),he=n(190),fe=Object(v.a)((function(e){return{root:{height:"20rem",display:"flex",flexDirection:"column",justifyContent:"space-evenly"},popper:{top:"10px !important",zIndex:100},tooltip:{fontSize:"1rem",maxWidth:"none"},link:{color:"inherit"}}}));var je=function(e){var t=e.setError,n=fe(),a=Object(l.useState)(null),r=Object(x.a)(a,2),i=r[0],o=r[1],u=Object(l.useState)(!0),s=Object(x.a)(u,2),p=s[0],b=s[1],h=Object(l.useState)(null),j=Object(x.a)(h,2),g=j[0],O=j[1],v=_(),m=v.user,F=v.balance,y=v.updateBalance,S=v.setUserHaikus,N=Object(l.useState)(null),T=Object(x.a)(N,2),C=T[0],E=T[1];Object(l.useEffect)((function(){function e(){return(e=Object(k.a)(f.a.mark((function e(){var t,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api-instant.ramp.network/api/host-api/assets");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a=n.assets.filter((function(e){return"FLOW_FUSD"==e.symbol}))[0],E(a.priceEur*a.minPurchaseAmountEur);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(l.useEffect)((function(){function e(){return(e=Object(k.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.t0=o,e.next=4,H();case 4:e.t1=e.sent,(0,e.t0)(e.t1),b(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}null===i&&function(){e.apply(this,arguments)}()}),[i]),Object(l.useEffect)((function(){m.loggedIn||O(null)}),[m]);var A=Object(l.useCallback)(Object(k.a)(f.a.mark((function e(){var n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,Q(i,t);case 4:return window.scrollTo(0,0),e.next=7,I([{key:i.id,value:m.addr}]);case 7:n=e.sent,a=n[Object.keys(n)[0]].text,O({id:i.id,text:a}),S((function(e){return Object(pe.a)(Object(pe.a)({},e),{},Object(de.a)({},i.id,{text:a,address:m.addr}))})),o(null),y(),t(null),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(1),"Declined: Externally Halted"!==(r=e.t0.message?e.t0.message:e.t0)&&"Declined: User rejected signature"!==r&&t({text:r,severity:"error"}),o(null);case 21:case"end":return e.stop()}}),e,null,[[1,16]])}))),[m,i]);if(p)return Object(K.jsxs)("div",{className:"spinner",id:"spinner",children:[Object(K.jsx)("div",{className:"double-bounce1"}),Object(K.jsx)("div",{className:"double-bounce2"})]});var U=!m.loggedIn||null===i||null===F||F<i.price,B="Mint Bitku #".concat(i.id," for ").concat(i.price," FUSD");return m.loggedIn?null===F?B="To mint a Bitku, please enable FUSD for your wallet using the menu in the top right":F<i.price?B=Object(K.jsxs)("span",{children:["You don't have enough FUSD.\xa0",C&&Object(K.jsxs)(d.a.Fragment,{children:[Object(K.jsxs)("a",{href:"#",className:n.link,onClick:function(){new he.a({hostAppName:"Bitku",hostLogoUrl:c,swapAmount:Math.ceil(Math.max(i.price-F,C)*Math.pow(10,8)),swapAsset:"FLOW_FUSD",userAddress:m.addr,fiatCurrency:"EUR"}).show()},children:["Buy ",Math.max(i.price-F,C).toFixed(2)," FUSD"]}),"."]})]}):null===i&&(B="No Bitkus remaining"):B="To mint a Bitku, please connect your wallet using the menu in the top right",Object(K.jsxs)("div",{className:n.root,children:[g&&Object(K.jsxs)("div",{children:[Object(K.jsx)(w.a,{variant:"h6",children:g.id}),Object(K.jsx)(w.a,{variant:"body2",children:Object(K.jsx)(D.a,{typing:1,fixed:!0,children:g.text})})]}),Object(K.jsx)("div",{children:Object(K.jsx)(be.a,{interactive:!0,classes:{popper:n.popper,tooltip:n.tooltip},title:B,open:U,placement:"bottom",arrow:!0,children:Object(K.jsx)("span",{children:Object(K.jsxs)(J.a,{variant:"outlined",disabled:U,onClick:A,children:["Mint Bitku #",i.id,"/1024 (",i.price," FUSD)"]})})})})]})},ke=n(362),xe=n(363),ge=n(364),Oe=n(192),ve=n.n(Oe),me=n(375),Fe=n(365),ye=n(366),we=n(367),Se=n(371),Ne=Object(v.a)((function(e){return{root:{marginBottom:e.spacing(4)},paper:{padding:e.spacing(2),borderRadius:e.spacing(.5),height:"12em",display:"flex",flexDirection:"column"},menuContainer:{display:"flex",flexDirection:"row-reverse",height:"10px"},iconButton:{"&:hover":{backgroundColor:"rgba(0, 0, 0, 0)"},color:"rgba(0, 0, 0, .4)",padding:0},sendDialog:{display:"flex",flexDirection:"column",alignItems:"center"}}}));var De=function(e){var t=e.haikus,n=e.heading,a=e.order,r=e.userHaikus,c=void 0!==r&&r,i=e.setError,o=void 0===i?function(){}:i,u=Ne(),s=_(),d=s.user,p=s.setUserHaikus,b=a||(t?Object.keys(t):[]),h=Object(l.useState)({el:null,haiku:null}),j=Object(x.a)(h,2),g=j[0],O=j[1],v=function(){O({el:null,haiku:null})},m=Object(l.useState)({open:!1,haiku:null}),F=Object(x.a)(m,2),y=F[0],S=F[1],N=function(){S({open:!1,haiku:null}),E("")},D=Object(l.useState)(""),T=Object(x.a)(D,2),C=T[0],E=T[1],H=!C.match(/^0x[a-zA-Z0-9]{16}$/)||C==d.addr;return Object(K.jsxs)("div",{className:u.root,children:[Object(K.jsx)(w.a,{variant:"h4",children:n}),Object(K.jsx)(xe.a,{container:!0,spacing:3,justifyContent:"center",children:t&&b.map((function(e){return t[e]&&Object(K.jsx)(xe.a,{item:!0,xs:12,sm:6,md:6,lg:4,children:Object(K.jsxs)(ke.a,{elevation:3,className:u.paper,children:[Object(K.jsx)("div",{className:u.menuContainer,children:Object(K.jsx)(ge.a,{className:u.iconButton,onClick:function(t){O({el:t.currentTarget,haiku:e})},children:Object(K.jsx)(ve.a,{})})}),Object(K.jsx)(w.a,{variant:"h6",children:e}),Object(K.jsx)(w.a,{variant:"body2",children:t[e].text})]})},e)}))}),Object(K.jsxs)(Y.a,{anchorEl:g.el,keepMounted:!0,open:!!g.el,onClose:v,children:[Object(K.jsx)(Z.a,{onClick:function(){navigator.clipboard.writeText("".concat(window.location.host,"/").concat(t[g.haiku].address,"/").concat(g.haiku)),v()},children:"Copy link"}),c&&Object(K.jsxs)(Z.a,{onClick:function(){S({open:!0,haiku:g.haiku}),v()},children:["Send Bitku #",g.haiku," to Another Address"]})]}),c&&Object(K.jsxs)(me.a,{open:!!y.open,onClose:N,children:[Object(K.jsx)(Fe.a,{children:Object(K.jsxs)(w.a,{variant:"h5",children:["Send Bitku #",y.haiku," to another address"]})}),Object(K.jsxs)(ye.a,{className:u.sendDialog,children:[Object(K.jsx)(w.a,{style:{fontStyle:"italic"},children:"Ensure that the address has a Bitku collection."}),Object(K.jsx)(w.a,{style:{fontStyle:"italic",marginBottom:"20px"},children:Object(K.jsx)("a",{href:"https://github.com/docmarionum1/bitku#how-to-send-a-bitku-to-another-account",target:"_blank",children:"Instructions"})}),Object(K.jsx)(Se.a,{label:"0xaddress",variant:"outlined",value:C,onChange:function(e){return E(e.target.value)}})]}),Object(K.jsxs)(we.a,{children:[Object(K.jsx)(J.a,{autoFocus:!0,onClick:N,color:"secondary",variant:"outlined",children:"Cancel"}),Object(K.jsx)(J.a,{variant:"outlined",disabled:H,onClick:Object(k.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(),e.prev=1,e.next=4,oe(y.haiku,C,o);case 4:p((function(e){var t=Object(pe.a)({},e);return delete t[y.haiku],t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),o({text:e.t0.message?e.t0.message:e.t0,severity:"error"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),children:"Send"})]})]})]})},Te=Object(O.a)({typography:{fontFamily:['"Courier New"',"courier","monospace"].join(","),h6:{textAlign:"center",textDecoration:"underline",fontSize:"1rem",fontWeight:"bold"},h4:{marginBottom:"1rem",textDecoration:"underline"},body2:{textAlign:"center",whiteSpace:"pre",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center"}},shape:{borderRadius:32}}),Ce=Object(v.a)((function(e){return{root:{textAlign:"center"},alert:{flexDirection:"row"},title:{color:"black",textDecoration:"underline",cursor:"pointer"}}}));var Ee=function(){var e=Ce(),t=Object(l.useState)(null),n=Object(x.a)(t,2),a=n[0],c=n[1],i=Object(l.useState)(!1),o=Object(x.a)(i,2),u=o[0],s=o[1],p=Object(l.useState)(!1),b=Object(x.a)(p,2),h=b[0],O=b[1],v=W().userHaikus,N=[{key:189,value:"0x002c479c5c9eb30f"},{key:40,value:r},{key:221,value:"0x5f563944d3f15ed7"},{key:29,value:r},{key:199,value:"0xcd642845e5f48fdd"},{key:0,value:r},{key:4,value:r},{key:5,value:r},{key:180,value:"0x877538e6851faa5d"},{key:28,value:r},{key:41,value:r}],T=Object(l.useState)({}),C=Object(x.a)(T,2),E=C[0],H=C[1],A=z(),U=Object(l.useState)(null),B=Object(x.a)(U,2),R=B[0],P=B[1],L=Object(l.useState)(null),G=Object(x.a)(L,2),M=G[0],_=G[1],J=function(){return s(!1)};return Object(l.useEffect)((function(){null!==a&&s(!0)}),[a]),Object(l.useEffect)((function(){function e(){return(e=Object(k.a)(f.a.mark((function e(){var t,n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=Object(j.a)(N);try{for(n.s();!(a=n.n()).done;)r=a.value,t.push(r)}catch(c){n.e(c)}finally{n.f()}return e.t0=H,e.next=6,I(t);case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(l.useEffect)((function(){function e(){return(e=Object(k.a)(f.a.mark((function e(){var t,n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=A.split("/")).length<2)){e.next=4;break}return _(null),e.abrupt("return");case 4:if(""===(n=t[1])){e.next=34;break}if(2!=t.length){e.next=21;break}return e.prev=7,e.t0=P,e.next=11,V({addr:n});case 11:return e.t1=e.sent,(0,e.t0)(e.t1),_(n),e.abrupt("return");case 17:e.prev=17,e.t2=e.catch(7);case 19:e.next=34;break;case 21:return e.prev=21,a=parseInt(t[2]),e.next=25,I([{key:a,value:n}]);case 25:if(r=e.sent,!(Object.keys(r).length>0)){e.next=30;break}return P(r),_(a),e.abrupt("return");case 30:e.next=34;break;case 32:e.prev=32,e.t3=e.catch(21);case 34:P(null),_(null);case 36:case"end":return e.stop()}}),e,null,[[7,17],[21,32]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[A]),Object(K.jsxs)(d.a.Fragment,{children:[Object(K.jsx)(g.a,{}),Object(K.jsx)(m.a,{theme:Te,children:Object(K.jsxs)("div",{className:e.root,children:[Object(K.jsx)(le,{setError:c}),Object(K.jsxs)(S.a,{children:[Object(K.jsx)("a",{className:e.title,onClick:function(){window.history.pushState(null,"Bitku","/");var e=new PopStateEvent("popstate");dispatchEvent(e)},children:Object(K.jsx)(w.a,{variant:"h1",children:Object(K.jsx)(D.a,{typing:1,onTypingEnd:function(){return O(!0)},children:"Bitku"})})}),h&&Object(K.jsxs)(d.a.Fragment,{children:[Object(K.jsx)(je,{setError:c}),null!==M&&R&&Object(K.jsx)(De,{haikus:R,heading:M}),Object(K.jsx)(De,{haikus:E,order:[189,40,221,29,199,0,4,5,180,28,41],heading:"Featured"}),Object(K.jsx)(De,{haikus:v,heading:"My Bitku",userHaikus:!0,setError:c})]}),a&&Object(K.jsx)(F.a,{open:u,autoHideDuration:1e4,onClose:J,children:Object(K.jsx)(y.a,{onClose:J,severity:a.severity,className:e.alert,children:a.text})})]})]})})]})},He=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,378)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};b.a.render(Object(K.jsx)(d.a.StrictMode,{children:Object(K.jsx)(M,{children:Object(K.jsx)(Ee,{})})}),document.getElementById("root")),He()}},[[314,1,2]]]);
//# sourceMappingURL=main.83cc9cb2.chunk.js.map