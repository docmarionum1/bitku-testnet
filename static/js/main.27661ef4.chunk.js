(this.webpackJsonpbitku=this.webpackJsonpbitku||[]).push([[0],{210:function(e,t,n){},212:function(e,t,n){},292:function(e,t,n){"use strict";n.r(t);var a=n(5);Object(a.e)().put("accessNode.api","https://rest-testnet.onflow.org").put("discovery.wallet","https://fcl-discovery.onflow.org/testnet/authn").put("discover.authn.endpoint","https://fcl-discovery.onflow.org/api/testnet/authn").put("app.detail.title","Bitku").put("app.detail.icon","https://bitku.art/logo512.png");var r="",i="",c="",o="0x824f612f78d34250";Object(a.e)().put("0xFUNGIBLETOKENADDRESS","0x9a0766d93b6608b7").put("0xTOKENADDRESS","0x7e60df042a9c0868").put("0xNONFUNGIBLETOKENADDRESS","0x631e88ae7f1d7c20").put("0xHAIKUNFTADDRESS",o).put("0xFUSDADDRESS","0xe223d8a629e49c68").put("0xMETADATAVIEWSADDRESS","0x631e88ae7f1d7c20").put("0xFINDADDRESS","0xa16ab1d0abde3625"),r=o,i="https://testnet.bitku.art/logo512.png",c="https://flow-view-source.com/testnet/tx/";var u,s,l,d,p=n(0),f=n.n(p),b=n(19),h=n.n(b),j=(n(210),n(11)),k=n.n(j),x=n(169),g=n(22),v=n(23),m=(n(212),n(354)),O=n(346),S=n(178),F=n(333),y=n(347),N=n(352),w=n(350),D=n(293),C=n(348),T=n(88),E=n.n(T),A=n(75),H=n(33),U="\nimport HaikuNFT from 0xHAIKUNFTADDRESS\n\npub fun main(): {UInt64: UFix64} {\n\n    return {HaikuNFT.totalSupply: HaikuNFT.currentPrice()}\n}\n";function I(){return R.apply(this,arguments)}function R(){return(R=Object(g.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.m([a.l(U)]).then(a.g);case 2:return t=e.sent,n=Object.keys(t)[0],e.abrupt("return",{id:parseInt(n),price:parseFloat(t[n])});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P='\nimport HaikuNFT from 0xHAIKUNFTADDRESS\nimport NonFungibleToken from 0xNONFUNGIBLETOKENADDRESS\nimport FIND, Profile from 0xFINDADDRESS\n\npub fun main(haikus: { UInt64: Address }): { UInt64: { String: String } } {\n  let response: {UInt64: {String: String}} = {}\n  for id in haikus.keys {\n    let address = haikus[id]!\n    let account = getAccount(address)\n    let capability = account.getCapability(HaikuNFT.HaikuCollectionPublicPath)\n    let ref = capability.borrow<&{HaikuNFT.HaikuCollectionPublic, NonFungibleToken.CollectionPublic}>()\n    if ref == nil {\n      continue\n    }\n    let haiku = ref!.borrowHaiku(id: id)\n    if haiku == nil {\n      continue\n    }\n\n    // Include find avatar and user name if the account has a find profile\n    var findAvatar = ""\n    var findName = ""\n\n    let leaseCap = account.getCapability<&FIND.LeaseCollection{FIND.LeaseCollectionPublic}>(FIND.LeasePublicPath)\n    if leaseCap.check() {\n      let profile = Profile.find(address).asProfile()\n      if profile != nil {\n        findAvatar = profile.avatar\n        findName = profile.findName\n      }\n    }\n    \n    response[id] = {\n      "text": haiku!.text,\n      "address": address.toString(),\n      "findName": findName,\n      "findAvatar": findAvatar\n    }\n  }\n\n  return response\n}\n';function B(e){return V.apply(this,arguments)}function V(){return(V=Object(g.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.m([a.l(P),a.b([a.a(t,H.b({key:H.e,value:H.a}))])]).then(a.g);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return K.apply(this,arguments)}function K(){return(K=Object(g.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.m([a.l(u||(u=Object(A.a)(['\n      import FungibleToken from 0xFUNGIBLETOKENADDRESS\n      import FUSD from 0xFUSDADDRESS\n      \n      pub fun main(account: Address): UFix64 {\n      \n          let vaultRef = getAccount(account)\n              .getCapability(/public/fusdBalance)\n              .borrow<&FUSD.Vault{FungibleToken.Balance}>()\n              ?? panic("Could not borrow Balance reference to the Vault")\n      \n          return vaultRef.balance\n      }\n    ']))),a.b([a.a(t.addr,H.a)])]).then(a.g);case 2:return n=e.sent,e.abrupt("return",parseFloat(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return G.apply(this,arguments)}function G(){return(G=Object(g.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.m([a.l(s||(s=Object(A.a)(['\n      import HaikuNFT from 0xHAIKUNFTADDRESS\n      import NonFungibleToken from 0xNONFUNGIBLETOKENADDRESS\n      \n      pub fun main(address: Address): {UInt64: String} {\n        let account = getAccount(address)\n        let capability = account.getCapability(HaikuNFT.HaikuCollectionPublicPath)\n        let ref = capability.borrow<&{HaikuNFT.HaikuCollectionPublic, NonFungibleToken.CollectionPublic}>() ?? panic("Could not borrow")\n      \n        let haikus: {UInt64: String} = {}\n      \n        for id in ref.getIDs() {\n          let nft = ref.borrowNFT(id: id)\n          haikus[id] = ref.borrowHaiku(id: id)!.text\n        }\n      \n        return haikus\n      }\n    ']))),a.b([a.a(t.addr,H.a)])]).then(a.g);case 2:for(r in n=e.sent)n[r]={text:n[r],address:t.addr};return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return z.apply(this,arguments)}function z(){return(z=Object(g.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.match(/^0x0*([a-zA-Z0-9]{0,16})$/))){e.next=10;break}return e.prev=2,e.next=5,a.m([a.l(l||(l=Object(A.a)(["\n          import FIND, Profile from 0x097bafa4e0b48eef\n  \n          pub fun main(address: Address) :  Profile.UserProfile? {\n              return Profile.find(address).asProfile()\n          }\n        "]))),a.b([a.a("0x".concat(n[1]),H.a)])]).then(a.g);case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(2);case 10:return e.next=12,a.m([a.l(d||(d=Object(A.a)(["\n        import FIND, Profile from 0x097bafa4e0b48eef\n\n        pub fun main(name: String) :  Profile.UserProfile? {\n            return FIND.lookup(name)?.asProfile()\n        }\n      "]))),a.b([a.a(t,H.c)])]).then(a.g);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}var _=n(3),J=f.a.createContext();function Z(e){var t=e.children,n=Object(p.useState)(0),a=Object(v.a)(n,2),r=a[0],i=a[1],c=Object(p.useState)(null),o=Object(v.a)(c,2),u=o[0],s=o[1];return Object(_.jsx)(J.Provider,{value:{balance:r,setBalance:i,userHaikus:u,setUserHaikus:s},children:t})}function $(){var e=Object(p.useState)({loggedIn:null}),t=Object(v.a)(e,2),n=t[0],r=t[1],i=Object(p.useContext)(J),c=i.balance,o=i.setBalance,u=i.userHaikus,s=i.setUserHaikus;Object(p.useEffect)((function(){return a.f().subscribe(r)}),[]);var l=Object(p.useCallback)(Object(g.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(n);case 3:t=e.sent,o(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o(null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[n,o]);return Object(p.useEffect)((function(){n.loggedIn?l():o(0)}),[n,o,l]),Object(p.useEffect)((function(){function e(){return(e=Object(g.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M(n);case 3:t=e.sent,s(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}n.loggedIn?function(){e.apply(this,arguments)}():s(null)}),[n,s]),{user:n,balance:c,updateBalance:l,userHaikus:u,setUserHaikus:s}}var Y=$,q=function(){var e=f.a.useState(window.location.hash),t=Object(v.a)(e,2),n=t[0],a=t[1],r=function(){var e=window.location.hash;a(e)};return f.a.useEffect((function(){return window.addEventListener("popstate",r),function(){window.removeEventListener("popstate",r)}}),[]),n},Q=n(337),X=n(179),ee=n(355);function te(e,t){var n=c+e;t({text:Object(_.jsxs)("span",{children:[" Transaction Submitted. View Status on\xa0",Object(_.jsx)("a",{href:n,target:"_blank",rel:"noreferrer",children:"Flowscan"}),"."]}),severity:"success"})}var ne="\nimport FungibleToken from 0xFUNGIBLETOKENADDRESS\nimport FlowToken from 0xTOKENADDRESS\nimport FUSD from 0xFUSDADDRESS\nimport NonFungibleToken from 0xNONFUNGIBLETOKENADDRESS\nimport MetadataViews from 0xMETADATAVIEWSADDRESS\nimport HaikuNFT from 0xHAIKUNFTADDRESS\n\ntransaction (haikuID: UInt64, price: UFix64) {\n    let collection: &NonFungibleToken.Collection\n    let sentVault: @FungibleToken.Vault\n    let receiverRef: &FlowToken.Vault{FungibleToken.Receiver}\n    \n    prepare(signer: AuthAccount) {\n        // if the account doesn't already have a collection\n        if signer.borrow<&HaikuNFT.Collection>(from: HaikuNFT.HaikuCollectionStoragePath) == nil {\n\n\n            // create a new empty collection\n            let collection <- HaikuNFT.createEmptyCollection()\n            \n            // save it to the account\n            signer.save(<-collection, to: HaikuNFT.HaikuCollectionStoragePath)\n\n            // create a public capability for the collection\n            signer.link<&{NonFungibleToken.CollectionPublic, HaikuNFT.HaikuCollectionPublic, MetadataViews.ResolverCollection}>(HaikuNFT.HaikuCollectionPublicPath, target: HaikuNFT.HaikuCollectionStoragePath)\n        }\n\n        self.collection = signer.borrow<&NonFungibleToken.Collection>(from: HaikuNFT.HaikuCollectionStoragePath) \n             ?? panic(\"Could not borrow reference to NFT Collection!\")\n\n        // Get a reference to the signer's stored vault\n        let vaultRef = signer.borrow<&FUSD.Vault>(from: /storage/fusdVault)\n          ?? panic(\"Could not borrow reference to the owner's FUSD Vault!\")\n\n        // Get a reference to the signer's FLOW receiver to receive FLOW necessary to ensure they have\n        // enough storage\n        self.receiverRef =  signer\n          .getCapability(/public/flowTokenReceiver)\n          .borrow<&FlowToken.Vault{FungibleToken.Receiver}>()\n        ?? panic(\"Could not borrow receiver reference to the recipient's Vault\")\n\n        // Withdraw tokens from the signer's stored vault\n        self.sentVault <- vaultRef.withdraw(amount: price)\n    }\n\n    execute {\n        HaikuNFT.mintHaiku(recipient: self.collection, vault: <- self.sentVault, id: haikuID, flowReceiverRef: self.receiverRef)\n    }\n}\n";function ae(e,t){return re.apply(this,arguments)}function re(){return(re=Object(g.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.m([a.n(ne),a.b([a.a(t.id,H.e),a.a(t.price.toFixed(8),H.d)]),a.j(a.d),a.k(a.d),a.c([a.d]),a.h(9999)]).then(a.g);case 2:return te(r=e.sent,n),e.abrupt("return",a.o(r).onceSealed());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie="\nimport FungibleToken from 0xFUNGIBLETOKENADDRESS\nimport FUSD from 0xFUSDADDRESS\n\ntransaction {\n\n  prepare(signer: AuthAccount) {\n\n    // It's OK if the account already has a Vault, but we don't want to replace it\n    if(signer.borrow<&FUSD.Vault>(from: /storage/fusdVault) != nil) {\n      return\n    }\n    \n    // Create a new FUSD Vault and put it in storage\n    signer.save(<-FUSD.createEmptyVault(), to: /storage/fusdVault)\n\n    // Create a public capability to the Vault that only exposes\n    // the deposit function through the Receiver interface\n    signer.link<&FUSD.Vault{FungibleToken.Receiver}>(\n      /public/fusdReceiver,\n      target: /storage/fusdVault\n    )\n\n    // Create a public capability to the Vault that only exposes\n    // the balance field through the Balance interface\n    signer.link<&FUSD.Vault{FungibleToken.Balance}>(\n      /public/fusdBalance,\n      target: /storage/fusdVault\n    )\n  }\n}\n";function ce(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(g.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.m([a.n(ie),a.j(a.d),a.k(a.d),a.c([a.d]),a.h(99)]).then(a.g);case 2:return te(n=e.sent,t),e.abrupt("return",a.o(n).onceSealed());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue="\nimport NonFungibleToken from 0xNONFUNGIBLETOKENADDRESS\nimport MetadataViews from 0xMETADATAVIEWSADDRESS\nimport HaikuNFT from 0xHAIKUNFTADDRESS\n\ntransaction () {\n    prepare(signer: AuthAccount) {\n        // if the account doesn't already have a collection\n        if signer.borrow<&HaikuNFT.Collection>(from: HaikuNFT.HaikuCollectionStoragePath) == nil {\n            // create a new empty collection\n            let collection <- HaikuNFT.createEmptyCollection()\n            \n            // save it to the account\n            signer.save(<-collection, to: HaikuNFT.HaikuCollectionStoragePath)\n\n            // create a public capability for the collection\n            signer.link<&{NonFungibleToken.CollectionPublic, HaikuNFT.HaikuCollectionPublic, MetadataViews.ResolverCollection}>(HaikuNFT.HaikuCollectionPublicPath, target: HaikuNFT.HaikuCollectionStoragePath)\n        }\n    }\n}\n";function se(e){return le.apply(this,arguments)}function le(){return(le=Object(g.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.m([a.n(ue),a.j(a.d),a.k(a.d),a.c([a.d]),a.h(99)]).then(a.g);case 2:return te(n=e.sent,t),e.abrupt("return",a.o(n).onceSealed());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de="\nimport NonFungibleToken from 0xNONFUNGIBLETOKENADDRESS\n\nimport HaikuNFT from 0xHAIKUNFTADDRESS\n\ntransaction (haikuID: UInt64, targetAddress: Address) {\n  let targetCollection: &AnyResource{NonFungibleToken.CollectionPublic}\n  let haiku: @NonFungibleToken.NFT\n  \n  prepare(signer: AuthAccount) {\n    // Get the sender's collection\n    let collection = signer.borrow<&HaikuNFT.Collection>(from: HaikuNFT.HaikuCollectionStoragePath)\n      ?? panic(\"Could not borrow reference to source account's Bitku Collection!\")\n\n    // Withdraw the haiku\n    self.haiku <- collection.withdraw(withdrawID: haikuID)\n\n    // Get the receiver's collection\n    let targetAccount = getAccount(targetAddress)\n    self.targetCollection = targetAccount.getCapability(HaikuNFT.HaikuCollectionPublicPath).borrow<&{NonFungibleToken.CollectionPublic}>()\n      ?? panic(\"Could not borrow reference to target account's Bitku Receiver!\")\n  }\n\n  execute {\n    self.targetCollection.deposit(token: <- self.haiku)\n  }\n}\n";function pe(e,t,n){return fe.apply(this,arguments)}function fe(){return(fe=Object(g.a)(k.a.mark((function e(t,n,r){var i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.m([a.n(de),a.b([a.a(parseInt(t),H.e),a.a(n,H.a)]),a.j(a.d),a.k(a.d),a.c([a.d]),a.h(99)]).then(a.g);case 2:return te(i=e.sent,r),e.abrupt("return",a.o(i).onceSealed());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var be=Object(F.a)((function(e){return{root:{display:"flex",justifyContent:"space-between",padding:e.spacing(1)},button:{},about:{color:"black"}}}));var he=function(e){var t=e.setError,n=be(),r=Y(),i=r.user,c=r.balance,o=r.updateBalance,u=r.userHaikus,s=r.setUserHaikus,l=Object(p.useState)(null),d=Object(v.a)(l,2),b=d[0],h=d[1],j=function(){h(null)};return Object(_.jsxs)("div",{className:n.root,children:[Object(_.jsx)(D.a,{variant:"h5",children:Object(_.jsx)("a",{href:"https://github.com/docmarionum1/bitku#readme",target:"_blank",className:n.about,rel:"noreferrer",children:"About"})}),i.loggedIn?Object(_.jsxs)(f.a.Fragment,{children:[Object(_.jsx)("div",{children:Object(_.jsx)(Q.a,{variant:"outlined",onClick:function(e){h(e.currentTarget)},children:i.addr})}),Object(_.jsxs)(X.a,{anchorEl:b,keepMounted:!0,open:!!b,onClose:j,children:[null===c?Object(_.jsx)(ee.a,{onClick:Object(g.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(),e.next=3,ce(t);case 3:o();case 4:case"end":return e.stop()}}),e)}))),children:"Enable FUSD on this wallet"}):Object(_.jsxs)(ee.a,{disabled:!0,children:[c," FUSD"]}),null==u&&Object(_.jsx)(ee.a,{onClick:Object(g.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(),e.next=3,se(t);case 3:s({});case 4:case"end":return e.stop()}}),e)}))),children:"Create empty Bitku collection"}),Object(_.jsx)(ee.a,{onClick:function(){j(),a.p()},children:"Log Out"})]})]}):Object(_.jsx)("div",{children:Object(_.jsx)(Q.a,{variant:"outlined",onClick:a.i,children:"Connect Wallet"})})]})},je=n(96),ke=n(74),xe=n(356),ge=n(175),ve=Object(F.a)((function(e){return{root:{height:"20rem",display:"flex",flexDirection:"column",justifyContent:"space-evenly"},popper:{top:"10px !important",zIndex:100},tooltip:{fontSize:"1rem",maxWidth:"none"},link:{color:"inherit"}}}));var me=function(e){var t=e.setError,n=ve(),a=Object(p.useState)(null),r=Object(v.a)(a,2),c=r[0],o=r[1],u=Object(p.useState)(!0),s=Object(v.a)(u,2),l=s[0],d=s[1],b=Object(p.useState)(null),h=Object(v.a)(b,2),j=h[0],x=h[1],m=Y(),O=m.user,S=m.balance,F=m.updateBalance,y=m.setUserHaikus,N=Object(p.useState)(null),w=Object(v.a)(N,2),C=w[0],T=w[1];Object(p.useEffect)((function(){function e(){return(e=Object(g.a)(k.a.mark((function e(){var t,n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api-instant.ramp.network/api/host-api/assets");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a=n.assets.filter((function(e){return"FLOW_FUSD"===e.symbol}))[0],T(a.priceEur*a.minPurchaseAmountEur);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(p.useEffect)((function(){function e(){return(e=Object(g.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.t0=o,e.next=4,I();case 4:e.t1=e.sent,(0,e.t0)(e.t1),d(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}null===c&&function(){e.apply(this,arguments)}()}),[c]),Object(p.useEffect)((function(){O.loggedIn||x(null)}),[O]);var A=Object(p.useCallback)(Object(g.a)(k.a.mark((function e(){var n,a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,ae(c,t);case 4:return window.scrollTo(0,0),e.next=7,B([{key:c.id,value:O.addr}]);case 7:n=e.sent,a=n[Object.keys(n)[0]].text,x({id:c.id,text:a}),y((function(e){return Object(ke.a)(Object(ke.a)({},e),{},Object(je.a)({},c.id,{text:a,address:O.addr}))})),o(null),F(),t(null),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(1),"Declined: Externally Halted"!==(r=e.t0.message?e.t0.message:e.t0)&&"Declined: User rejected signature"!==r&&t({text:r,severity:"error"}),o(null);case 21:case"end":return e.stop()}}),e,null,[[1,16]])}))),[O,c,t,y,F]);if(l)return Object(_.jsxs)("div",{className:"spinner",id:"spinner",children:[Object(_.jsx)("div",{className:"double-bounce1"}),Object(_.jsx)("div",{className:"double-bounce2"})]});var H=!O.loggedIn||null===c||null===S||S<c.price,U="Mint Bitku #".concat(c.id," for ").concat(c.price," FUSD");return O.loggedIn?null===S?U="To mint a Bitku, please enable FUSD for your wallet using the menu in the top right":S<c.price?U=Object(_.jsxs)("span",{children:["You don't have enough FUSD.\xa0",C&&Object(_.jsxs)(f.a.Fragment,{children:[Object(_.jsxs)("a",{href:"#",className:n.link,onClick:function(){new ge.a({hostAppName:"Bitku",hostLogoUrl:i,swapAmount:Math.ceil(Math.max(c.price-S,C)*Math.pow(10,8)),swapAsset:"FLOW_FUSD",userAddress:O.addr,fiatCurrency:"EUR"}).show()},children:["Buy ",Math.max(c.price-S,C).toFixed(2)," FUSD"]}),"."]})]}):null===c&&(U="No Bitkus remaining"):U="To mint a Bitku, please connect your wallet using the menu in the top right",Object(_.jsxs)("div",{className:n.root,children:[j&&Object(_.jsxs)("div",{children:[Object(_.jsx)(D.a,{variant:"h6",children:j.id}),Object(_.jsx)(D.a,{variant:"body2",children:Object(_.jsx)(E.a,{typing:1,fixed:!0,children:j.text})})]}),Object(_.jsx)("div",{children:Object(_.jsx)(xe.a,{interactive:!0,classes:{popper:n.popper,tooltip:n.tooltip},title:U,open:H,placement:"bottom",arrow:!0,children:Object(_.jsx)("span",{children:Object(_.jsxs)(Q.a,{variant:"outlined",disabled:H,onClick:A,children:["Mint Bitku #",c.id,"/1024 (",c.price," FUSD)"]})})})})]})},Oe=n(340),Se=n(341),Fe=n(342),ye=n(177),Ne=n.n(ye),we=n(353),De=n(343),Ce=n(344),Te=n(345),Ee=n(349),Ae=Object(F.a)((function(e){return{root:{marginBottom:e.spacing(4)},paper:{padding:e.spacing(2),borderRadius:e.spacing(.5),height:"12em",display:"flex",flexDirection:"column"},menuContainer:{display:"flex",justifyContent:"space-between",height:"10px"},iconButton:{"&:hover":{backgroundColor:"rgba(0, 0, 0, 0)"},color:"rgba(0, 0, 0, .4)",padding:0},sendDialog:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{width:e.spacing(3),height:e.spacing(3),margin:-e.spacing(.75)},heading:{"& > *":{color:"black"}}}}));var He=function(e){var t=e.haikus,n=e.heading,a=e.order,r=e.userHaikus,i=void 0!==r&&r,c=e.setError,o=void 0===c?function(){}:c,u=Ae(),s=Y(),l=s.user,d=s.setUserHaikus,f=a||(t?Object.keys(t):[]),b=Object(p.useState)({el:null,haiku:null}),h=Object(v.a)(b,2),j=h[0],x=h[1],O=function(){x({el:null,haiku:null})},S=Object(p.useState)({open:!1,haiku:null}),F=Object(v.a)(S,2),y=F[0],N=F[1],w=function(){N({open:!1,haiku:null}),A("")},C=Object(p.useState)(""),T=Object(v.a)(C,2),E=T[0],A=T[1],H=!E.match(/^0x[a-zA-Z0-9]{16}$/)||E===l.addr;return Object(_.jsxs)("div",{className:u.root,children:[Object(_.jsx)(D.a,{variant:"h4",className:u.heading,children:n}),Object(_.jsx)(Se.a,{container:!0,spacing:3,justifyContent:"center",children:t&&f.map((function(e){return t[e]&&Object(_.jsx)(Se.a,{item:!0,xs:12,sm:6,md:6,lg:4,children:Object(_.jsxs)(Oe.a,{elevation:3,className:u.paper,children:[Object(_.jsxs)("div",{className:u.menuContainer,children:[t[e].findName?Object(_.jsx)("a",{href:"https://find.xyz/".concat(t[e].findName),target:"_blank",rel:"noreferrer",children:Object(_.jsx)(m.a,{alt:"".concat(t[e].findName,".find"),src:t[e].findAvatar,className:u.avatar})}):Object(_.jsx)("span",{}),Object(_.jsx)(Fe.a,{className:u.iconButton,onClick:function(t){x({el:t.currentTarget,haiku:e})},children:Object(_.jsx)(Ne.a,{})})]}),Object(_.jsx)(D.a,{variant:"h6",children:e}),Object(_.jsx)(D.a,{variant:"body2",children:t[e].text})]})},e)}))}),Object(_.jsxs)(X.a,{anchorEl:j.el,keepMounted:!0,open:!!j.el,onClose:O,children:[Object(_.jsx)(ee.a,{onClick:function(){navigator.clipboard.writeText("".concat(window.location.host,"/#").concat(t[j.haiku].address,"/").concat(j.haiku)),O()},children:"Copy link"}),i&&Object(_.jsxs)(ee.a,{onClick:function(){N({open:!0,haiku:j.haiku}),O()},children:["Send Bitku #",j.haiku," to Another Address"]})]}),i&&Object(_.jsxs)(we.a,{open:!!y.open,onClose:w,children:[Object(_.jsx)(De.a,{children:Object(_.jsxs)(D.a,{variant:"h5",children:["Send Bitku #",y.haiku," to another address"]})}),Object(_.jsxs)(Ce.a,{className:u.sendDialog,children:[Object(_.jsx)(D.a,{style:{fontStyle:"italic"},children:"Ensure that the address has a Bitku collection."}),Object(_.jsx)(D.a,{style:{fontStyle:"italic",marginBottom:"20px"},children:Object(_.jsx)("a",{href:"https://github.com/docmarionum1/bitku#how-to-send-a-bitku-to-another-account",target:"_blank",rel:"noreferrer",children:"Instructions"})}),Object(_.jsx)(Ee.a,{label:"0xaddress",variant:"outlined",value:E,onChange:function(e){return A(e.target.value)}})]}),Object(_.jsxs)(Te.a,{children:[Object(_.jsx)(Q.a,{autoFocus:!0,onClick:w,color:"secondary",variant:"outlined",children:"Cancel"}),Object(_.jsx)(Q.a,{variant:"outlined",disabled:H,onClick:Object(g.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(),e.prev=1,e.next=4,pe(y.haiku,E,o);case 4:d((function(e){var t=Object(ke.a)({},e);return delete t[y.haiku],t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),o({text:e.t0.message?e.t0.message:e.t0,severity:"error"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),children:"Send"})]})]})]})},Ue=Object(S.a)({typography:{fontFamily:['"Courier New"',"courier","monospace"].join(","),h6:{textAlign:"center",textDecoration:"underline",fontSize:"1rem",fontWeight:"bold"},h4:{marginBottom:"1rem",textDecoration:"underline"},body2:{textAlign:"center",whiteSpace:"pre",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center"}},shape:{borderRadius:32}}),Ie=Object(F.a)((function(e){return{root:{textAlign:"center"},alert:{flexDirection:"row"},title:{color:"black",textDecoration:"underline",cursor:"pointer"},avatar:{width:e.spacing(3),height:e.spacing(3),display:"inline-block",verticalAlign:"middle"}}})),Re=[{key:189,value:"0x002c479c5c9eb30f"},{key:40,value:r},{key:221,value:"0x5f563944d3f15ed7"},{key:29,value:r},{key:199,value:"0xcd642845e5f48fdd"},{key:0,value:r},{key:4,value:r},{key:5,value:r},{key:180,value:"0x877538e6851faa5d"},{key:28,value:r},{key:41,value:r},{key:900,value:"0xc038de0c5f2cb2d4"},{key:240,value:"0x3a7a2af28d43354b"}],Pe=[189,40,221,240,29,199,0,4,5,180,28,41];var Be=function(){var e=Ie(),t=Object(p.useState)(null),n=Object(v.a)(t,2),a=n[0],i=n[1],c=Object(p.useState)(!1),o=Object(v.a)(c,2),u=o[0],s=o[1],l=Object(p.useState)(!1),d=Object(v.a)(l,2),b=d[0],h=d[1],j=$().userHaikus,S=Object(p.useState)({}),F=Object(v.a)(S,2),T=F[0],A=F[1],H=q(),U=Object(p.useState)(null),I=Object(v.a)(U,2),R=I[0],P=I[1],V=Object(p.useState)(null),L=Object(v.a)(V,2),K=L[0],G=L[1],z=function(){return s(!1)};return Object(p.useEffect)((function(){null!==a&&s(!0)}),[a]),Object(p.useEffect)((function(){function e(e){return t.apply(this,arguments)}function t(){return(t=Object(g.a)(k.a.mark((function e(t){var n,a,i,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=Object(x.a)(Re);try{for(a.s();!(i=a.n()).done;)c=i.value,t&&c.value!==r||n.push(c)}catch(o){a.e(o)}finally{a.f()}return e.t0=A,e.next=6,B(n);case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(g.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(!1);case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(0),t.next=9,e(!0);case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),Object(p.useEffect)((function(){function t(){return(t=Object(g.a)(k.a.mark((function t(){var n,a,r,i,c,o;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=H.replace("#","").split("/")).length<1)){t.next=4;break}return G(null),t.abrupt("return");case 4:return a=n[0],r=a,t.prev=6,t.next=9,W(a);case 9:(i=t.sent)&&(a=i.address,r=Object(_.jsx)("a",{href:"https://find.xyz/".concat(i.findName),target:"_blank",rel:"noreferrer",children:Object(_.jsxs)("span",{style:{display:"inline-block"},children:[Object(_.jsx)(m.a,{alt:"".concat(i.findName,".find"),src:i.avatar,className:e.avatar}),Object(_.jsx)("span",{style:{textDecoration:"underline"},children:i.name})]})})),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(6);case 15:if(""===a){t.next=44;break}if(1!==n.length){t.next=31;break}return t.prev=17,t.t1=P,t.next=21,M({addr:a});case 21:return t.t2=t.sent,(0,t.t1)(t.t2),G(r),t.abrupt("return");case 27:t.prev=27,t.t3=t.catch(17);case 29:t.next=44;break;case 31:return t.prev=31,c=parseInt(n[1]),t.next=35,B([{key:c,value:a}]);case 35:if(o=t.sent,!(Object.keys(o).length>0)){t.next=40;break}return P(o),G(c),t.abrupt("return");case 40:t.next=44;break;case 42:t.prev=42,t.t4=t.catch(31);case 44:P(null),G(null);case 46:case"end":return t.stop()}}),t,null,[[6,13],[17,27],[31,42]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[H]),Object(_.jsxs)(f.a.Fragment,{children:[Object(_.jsx)(O.a,{}),Object(_.jsx)(y.a,{theme:Ue,children:Object(_.jsxs)("div",{className:e.root,children:[Object(_.jsx)(he,{setError:i}),Object(_.jsxs)(C.a,{children:[Object(_.jsx)(D.a,{variant:"h1",className:e.title,onClick:function(){window.history.pushState(null,"Bitku","/");var e=new PopStateEvent("popstate");dispatchEvent(e)},children:Object(_.jsx)(E.a,{typing:1,onTypingEnd:function(){return h(!0)},children:"Bitku"})}),b&&Object(_.jsxs)(f.a.Fragment,{children:[Object(_.jsx)(me,{setError:i}),null!==K&&R&&Object(_.jsx)(He,{haikus:R,heading:K}),Object(_.jsx)(He,{haikus:T,order:Pe,heading:"Featured"}),Object(_.jsx)(He,{haikus:j,heading:"My Bitku",userHaikus:!0,setError:i})]}),a&&Object(_.jsx)(N.a,{open:u,autoHideDuration:1e4,onClose:z,children:Object(_.jsx)(w.a,{onClose:z,severity:a.severity,className:e.alert,children:a.text})})]})]})})]})},Ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,357)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};h.a.render(Object(_.jsx)(f.a.StrictMode,{children:Object(_.jsx)(Z,{children:Object(_.jsx)(Be,{})})}),document.getElementById("root")),Ve()}},[[292,1,2]]]);
//# sourceMappingURL=main.27661ef4.chunk.js.map